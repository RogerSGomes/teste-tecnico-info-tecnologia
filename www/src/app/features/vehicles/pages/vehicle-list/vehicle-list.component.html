<main
  class="m-6 bg-white divide-y divide-slate-300 overflow-hidden rounded-lg border border-slate-300"
>
  <header class="flex items-center justify-between px-5 py-4 gap-5">
    <app-loadable-title
      title="Lista de Veículos"
      description="Gerencie sua lista de veículos"
    />
    <app-button
      label="Adicionar Veículo"
      appearance="outlined_background"
      size="small"
      (click)="handleCreateVehicle()"
      (keydown.enter)="handleCreateVehicle()"
    />
  </header>
  <section class="p-5">
    <ng-container *ngIf="!isLoading; else loading">
      <div class="flex flex-col gap-4 divide-y divide-slate-300">
        <div
          class="grid grid-cols-12 items-center gap-5 text-sm text-slate-700"
        >
          <span class="col-span-2 p-2">Modelo</span>
          <span class="col-span-2 p-2">Marca</span>
          <span class="col-span-2 p-2">Placa</span>
          <span class="col-span-6 p-2 pr-5 text-right">Ações</span>
        </div>
        <div
          *ngFor="let vehicle of vehicles; let i = index"
          class="grid grid-cols-12 items-center gap-5 text-sm text-gray-500"
        >
          <span class="col-span-2 p-2 text-slate-600">
            {{ vehicle.model?.name || '--' }}
          </span>
          <span class="col-span-2 p-2 text-slate-600">
            {{ vehicle.brand?.name || '--' }}
          </span>
          <span class="col-span-2 p-2 text-slate-600">
            {{ vehicle.licensePlate || '--' }}
          </span>
          <div class="col-span-6 flex justify-end p-2 gap-2">
            <app-icon
              name="visibility"
              type="outlined"
              size="sm"
              class="cursor-pointer text-gray-500 hover:text-blue-500"
              (click)="handleViewDetails(vehicle)"
              (keydown.enter)="handleViewDetails(vehicle)"
            />
            <app-icon
              name="edit"
              type="outlined"
              size="sm"
              class="cursor-pointer text-gray-500 hover:text-blue-500"
              (click)="handleEditVehicle(vehicle)"
              (keydown.enter)="handleEditVehicle(vehicle)"
            />
            <app-icon
              name="delete"
              type="outlined"
              size="sm"
              class="cursor-pointer text-gray-500 hover:text-red-500"
              (click)="handleDeleteVehicle(vehicle)"
              (keydown.enter)="handleDeleteVehicle(vehicle)"
            />
          </div>
        </div>
      </div>
    </ng-container>
    <ng-template #loading>Carregando veículos...</ng-template>
  </section>
</main>
